(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{140:function(e,t,n){e.exports=n(284)},145:function(e,t,n){},146:function(e,t,n){},284:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(22),o=n.n(c),s=(n(145),n(34)),i=n(17),u=n(18),l=n(20),m=n(19),p=n(21),d=(n(146),n(288)),f=n(287),h=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(m.a)(t).call(this,e))).renderInputs=function(e){var t=e.input,a=e.label,c=e.meta,o="field ".concat(c.error&&c.touched?"error":"");return r.a.createElement("div",{className:o},r.a.createElement("label",null,a),r.a.createElement("input",Object.assign({autoComplete:"off"},t)),n.renderError(c))},n.onSubmit=function(e){n.props.onSubmit(e)},n.state={},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"renderError",value:function(e){var t=e.error;if(e.touched&&t)return r.a.createElement("div",{className:"ui error message"},r.a.createElement("span",{className:"header"},t))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("form",{className:"ui container form error",onSubmit:this.props.handleSubmit(this.onSubmit)},r.a.createElement(d.a,{name:"title",component:this.renderInputs,label:"Enter song name "}),r.a.createElement(d.a,{name:"artist",component:this.renderInputs,label:"Enter singer name "}),r.a.createElement("button",{className:"ui button primary margin-btn"},"Submit"))))}}]),t}(a.Component),E=Object(f.a)({form:"songForm",validate:function(e){var t={};return e.title||(t.title="You must enter a title."),e.artist||(t.artist="You must enter an artist name."),t}})(h),b=n(11),g=n(25),O=n.n(g),v=n(47),j=n(131),S=n.n(j).a.create({baseURL:"http://localhost:3001"}),y=n(14),N=Object(y.a)(),w=function(e){return function(){var t=Object(v.a)(O.a.mark(function t(n){var a;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.get("/songs/".concat(e));case 2:a=t.sent,n({type:"FETCH_SONG",payload:a.data});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},_=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(m.a)(t).call(this,e))).onSubmit=function(e){n.props.createSong(e)},n.state={},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Create new song"),r.a.createElement(E,{onSubmit:this.onSubmit}))}}]),t}(a.Component),k=Object(b.b)(null,{createSong:function(e){return function(){var t=Object(v.a)(O.a.mark(function t(n){var a;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.post("/songs",e);case 2:a=t.sent,n({type:"CREATE_SONG",payload:a.data}),N.push("/");case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}})(_),C=n(30),T=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(m.a)(t).call(this,e))).renderListOfSongs=function(){return n.props.songs.map(function(e){return r.a.createElement("div",{className:"item",key:e.id},n.renderButtons(e),r.a.createElement("i",{className:"large middle aligned icon soundcloud"}),r.a.createElement("div",{className:"content"},r.a.createElement(C.a,{to:"/songs/".concat(e.id),className:"header"},e.title),r.a.createElement("div",{className:"description"},e.artist)))})},n.renderButtons=function(e){return r.a.createElement("div",{className:"right floated content"},r.a.createElement(C.a,{to:"/songs/edit/".concat(e.id),className:"ui button primary"},"Edit"),r.a.createElement(C.a,{to:"/songs/delete/".concat(e.id),className:"ui button negative"},"Delete"))},n.state={},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchSongs()}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"ui celled list"},this.renderListOfSongs()),r.a.createElement("div",{className:"divider"}),r.a.createElement(C.a,{to:"/CreateSong",className:"ui button primary"},"Create new song"))}}]),t}(a.Component),D=Object(b.b)(function(e){return{songs:Object.values(e.songs)}},{fetchSongs:function(){return function(){var e=Object(v.a)(O.a.mark(function e(t){var n;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.get("/songs");case 2:n=e.sent,t({type:"FETCH_SONGS",payload:n.data});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}})(T),F=n(54),x=n.n(F),G=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(m.a)(t).call(this,e))).onSubmit=function(e){n.props.editSong(n.props.match.params.id,e)},n.state={},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchSong(this.props.match.params.id)}},{key:"render",value:function(){return this.props.song?r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Edit a song"),r.a.createElement(E,{initialValues:x.a.pick(this.props.song,"title","artist"),onSubmit:this.onSubmit})):r.a.createElement("div",null,"Loading...")}}]),t}(a.Component),L=Object(b.b)(function(e,t){return{song:e.songs[t.match.params.id]}},{fetchSong:w,editSong:function(e,t){return function(){var n=Object(v.a)(O.a.mark(function n(a){var r;return O.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,S.patch("/songs/".concat(e),t);case 2:r=n.sent,a({type:"EDIT_SONG",payload:r.data}),console.log(N),N.push("/");case 6:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()}})(G),I=n(137),A=n(286),H=function(e){var t=Object(a.useState)(!0),n=Object(I.a)(t,2),c=n[0],o=n[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(A.a,{show:c,onHide:function(){return o(!1)}},r.a.createElement(A.a.Header,{closeButton:!0},r.a.createElement(A.a.Title,null,e.title)),r.a.createElement(A.a.Body,null,e.content),r.a.createElement(A.a.Footer,null,e.action)))},M=n(289),R=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(m.a)(t).call(this,e))).state={},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchSong(this.props.match.params.id)}},{key:"renderContent",value:function(){return this.props.song?"Are you sure you want to delete this song with titlt ".concat(this.props.song.title,"?"):"Are you sure you want to delete this song?"}},{key:"renderActions",value:function(){var e=this,t=this.props.match.params.id;return r.a.createElement(r.a.Fragment,null,r.a.createElement(M.a,{variant:"danger",onClick:function(){e.props.deleteSong(t)}},"Delete"),r.a.createElement(C.a,{to:"/",variant:"secondary"},"Cancel"))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(H,{content:this.renderContent(),action:this.renderActions()}))}}]),t}(a.Component),B=Object(b.b)(function(e,t){return{song:e.songs[t.match.params.id]}},{fetchSong:w,deleteSong:function(e){return function(){var t=Object(v.a)(O.a.mark(function t(n){return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.delete("/songs/".concat(e));case 2:n({type:"DELETE_SONG",payload:e}),N.push("/");case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}})(R),X=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(m.a)(t).call(this,e))).state={},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchSong(this.props.match.params.id)}},{key:"render",value:function(){if(!this.props.song)return r.a.createElement("div",null,"Loading...");var e=this.props.song,t=e.title,n=e.artist;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,t),r.a.createElement("h5",null,n))}}]),t}(a.Component),U=Object(b.b)(function(e,t){return{song:e.songs[t.match.params.id]}},{fetchSong:w})(X),V=r.a.createElement(s.c,{history:N},r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/",exact:!0,component:D}),r.a.createElement(s.b,{path:"/CreateSong",component:k}),r.a.createElement(s.b,{path:"/songs/edit/:id",component:L}),r.a.createElement(s.b,{path:"/songs/delete/:id",component:B}),r.a.createElement(s.b,{path:"/songs/:id",component:U}),r.a.createElement(s.a,{from:"*",to:"/"}))),J=function(){return r.a.createElement(s.c,{history:N},r.a.createElement("div",{className:"space-t-p ui container"},V))},P=n(6),Y=n(136),q=n(290),K=n(46),z=n(55),Q=Object(P.c)({form:q.a,songs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_SONGS":return Object(z.a)({},e,x.a.mapKeys(t.payload,"id"));case"FETCH_SONG":case"CREATE_SONG":case"EDIT_SONG":return Object(z.a)({},e,Object(K.a)({},t.payload.id,t.payload));case"DELETE_SONG":return x.a.omit(e,t.payload);default:return e}}}),W=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):P.d)(Object(P.a)(Y.a)),Z=Object(P.e)(Q,W);o.a.render(r.a.createElement(b.a,{store:Z},r.a.createElement(J,null)),document.querySelector("#root"))}},[[140,1,2]]]);
//# sourceMappingURL=main.b6588e5f.chunk.js.map